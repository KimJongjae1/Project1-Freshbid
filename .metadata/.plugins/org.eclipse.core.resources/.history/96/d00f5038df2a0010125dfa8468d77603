import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.List;

public class Solution {
	 static List<List<Integer>> list;
	 static int[][] dp;
 
	 
	 public static void main(String[] args) throws IOException{
		   BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
		   int T=Integer.parseInt(br.readLine());
		   for(int t=1;t<=T;t++) {
			   
			   String str=br.readLine();
			   dp=new int[16][str.length()];
			 
			   
			   for(int i=1;i<=15;i++) {
				   if((i&1)==0) continue;
				   
			       if((i&(1<<str.charAt(0)-'A'))==0) continue;
			       
					dp[i][0]=1; 
			   }
			   
			   for(int i=1;i<str.length();i++) {
				   for(int k=1;k<=15;k++) {
				      for(int q=1;q<=15;q++) {
                        
				   	   if(((1<<str.charAt(i)-'A')&q)!=0) {
				    	  
				      	  if((k&q)!=0) {
				      	  
				    		dp[q][i]+=dp[k][i-1];
				    		dp[q][i]%=1000000007;  
				    		
				   	   }}
				    	  
				      }
				   }
			   }
			   
			   int ans=0;
			   for(int i=1;i<=15;i++) {
				   ans+=dp[i][str.length()-1];
				   ans%=1000000007;
			   }
			   System.out.println("#"+t+" "+ans%1000000007);
		
		   }
	 }

}
