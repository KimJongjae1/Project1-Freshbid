import java.util.Scanner;

// 3316. 동아리실 관리하기
public class Solution {
	static String managers;
	static int[][] dp;
	
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		int T = sc.nextInt();
		for (int tc = 1; tc <= T; tc++) {
			managers = sc.next();
			// dp 초기화
			dp = new int[managers.length() + 1][16];	// 처음엔 0으로 초기화	
			// A가 열쇠를 가지고 있으니 시작은 1
			System.out.println("#" + tc + " " + solution());
		}
		sc.close();
	}
	
	static int solution() {
		// 1일차 값 넣어주기
		for (int i = 1; i < 16; i++) {
			if ((i & 1) == 0) {		// A가 처음에 열쇠를 가지고 있으니 A만 1을 넣어준다.
				continue;
			}
			if ((i & (1 << managers.charAt(0) - 'A')) == 0) {
				continue;
			}
			dp[0][i] = 1;
		}
		
		for (int i = 1; i < managers.length(); i++) {
			for (int j = 1; j < 16; j++) {
				for (int k = 1; k < 16; k++) {
					// 매니저가 포함되는 지 확인
					if ((j & (1 << managers.charAt(i) - 'A')) == 0) {
						continue;
					}
					// 이전 조합과 겹치는 것이 없는 경우
					if ((j & k) == 0) {
						continue;
					}
					dp[i][j] += dp[i - 1][k];
					dp[i][j] %= 1000000007;
				}
			}
		}
		
		// dp 마지막 날의 값을 다 더해서 출력
		int result = 0;
		for (int i = 1; i < 16; i++) {			
			result += dp[managers.length() - 1][i];
			result %= 1000000007;
		}
		
		return result;
	}
}